# 2Week_WooHyeJi.md

## Title: [2Week] 우혜지

### 미션 요구사항 분석 & 체크리스트

---
- [ ] [필수] 호감표시 할 때 에외처리 케이스 3가지 처리
    - [ ] 한명의 인스타 회원이 다른 인스타회원에게 중복으로 호감표시를 할 수 없습니다.
        - ex) user1이 user2에게 호감 표시 (사유 : 외모)
          user1이 user2에게 다시 호감 표시 (사유 : 외모)
          이 경우 처리되면 안된다. (`rq.historyBack`)
    - [ ] 한명의 인스타 회원이 11명 이상의 호감상대를 등록할 수 없습니다.
        - 만일 11명 이상의 호감표시를 했을 시 처리되면 안된다. (`rq.historyBack`)
    - [ ] 중복 호감표시가 발생했을 때 기존의 사유와 다른 사유로 호감을 표시하는 경우에는 성공으로 처리한다.
        - ex) user1이 user2에게 호감 표시 (사유 : 외모)
          user1이 user2에게 다시 호감 표시 (사유 : 성격)
          이 경우에는 새 호감상대로 등록되지 않고, 기존 호감표시에서 사유만 수정된다.
- [ ] [선택] 네이버 로그인
    - [ ] 네이버 로그인으로 가입 및 로그인 처리가 가능하여야 한다. (스프링 OAuth2 클라이언트)
    - [ ] 네이버 로그인으로 가입한 회원의 providerTypeCode : NAVER
    - [ ] SQL 내 member 테이블의 username에 개인의 이름과 성별 등의 개인정보는 포함하지 않아야 한다.
- [ ] [UI] 디자인 변경


### 2주차 미션 요약

---

**[접근 방법]**
1. **예외처리 케이스 3가지 추가**
    1) 호감표시 중복 불가능
        - LikeablePersonService.java 의 `like` 메소드에서 처리했던 호감표시 가능 여부 확인 기능을 `canLike` 메소드로 따로 분리시켜줌
    2) 한명의 인스타 회원이 11명 이상의 호감표시 등록 불가능
        - LikeablePersonService.java 의 `like` 메소드 안에서 `fromInstaMember.getFromLikeablePeople().size()`로 확인
        - 예상은 `fromInstaMember.getFromLikeablePeople().size()`가 11 이상일 때 실패가 떠야하는데, `>= 11`로 조건을 설정하면 11개도 등록이 가능함
        - 임시방편으로 `>= 10`으로 설정해놓았으나, 아직 풀리지 않음
    3) 호감표시 중복 발생 시 다른 attractiveTypeCode 가질 시 성공 처리 -> 수정

    


**[특이사항]**
1. 구현하지 못한 부분
2. 기능 구현은 마쳤으나 이해되지 않는 부분
    - 호감표시 인원수 제한에서 왜 `>= 11`이 아니라 `>= 10`으로 해야 10명까지만 등록이 가능한지?

**참고: [Refactoring]**